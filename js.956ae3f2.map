{"version":3,"sources":["js/helpers/dom.js","js/helpers/date.js","js/setup.js","js/testing-events.js","js/show-details.js","js/fill-events.js","js/now-bar.js","js/details.js","js/highlight.js","js/navigation.js","../../.config/yarn/global/node_modules/parcel-bundler/src/builtins/bundle-url.js","../../.config/yarn/global/node_modules/parcel-bundler/src/builtins/bundle-loader.js","js/zoom.js","node_modules/vanilla-ripplejs/ripple.min.js","js/register-sw.js","js/index.js"],"names":["window","$","document","querySelector","bind","$$","querySelectorAll","locale","getLongMonth","Intl","DateTimeFormat","month","format","date","getShortMonth","getShortDay","weekday","getLongDay","setDefaultState","history","pushState","page","setupDates","Date","shortDay","innerHTML","getDate","today","getMonth","getFullYear","events","from_hour","from_minute","to_hour","to_minute","title","showEventDetails","event","e","currentTarget","body","classList","contains","first","getBoundingClientRect","translateY","top","scaleX","width","innerWidth","scaleY","height","details","style","transform","transformOrigin","info","JSON","parse","dataset","toLocaleString","undefined","minimumIntegerDigits","setTimeout","requestAnimationFrame","add","showTodaysEvents","todaysEvents","container","from","to","position","entry","createElement","onclick","stringify","appendChild","showNowBar","hour","getHours","minute","getMinutes","nowBar","setProperty","addEventListener","replaceState","remove","srcElement","getAttribute","highlightEvent","resetHighlights","highlighted","forEach","state","dispatchEvent","Event","bundleURL","getBundleURLCached","getBundleURL","Error","err","matches","stack","match","getBaseURL","url","replace","exports","require","loadBundlesLazy","bundles","Array","isArray","id","length","Promise","resolve","code","LazyPromise","reject","loadBundles","then","all","slice","map","loadBundle","bundleLoaders","registerBundleLoader","type","loader","module","load","register","bundle","substring","lastIndexOf","toLowerCase","bundleLoader","resolved","modules","executor","promise","prototype","onSuccess","onError","catch","calendarHour","getComputedStyle","getPropertyValue","parseInt","requestIdleCallback","calendar","Hammer","defaults","touchAction","hm","Manager","pinch","Pinch","on","ev","scale","Math","round","documentElement","navigator","path","serviceWorker","console","log","registration","error"],"mappings":"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","file":"js.956ae3f2.map","sourcesContent":["window.$ = document.querySelector.bind(document);\nwindow.$$ = document.querySelectorAll.bind(document);\n","const locale = \"en-US\";\n\nexport const getLongMonth = date => {\n  return new Intl.DateTimeFormat(locale, { month: \"long\" }).format(date);\n};\nexport const getShortMonth = date => {\n  return new Intl.DateTimeFormat(locale, { month: \"short\" }).format(date);\n};\n\nexport const getShortDay = date => {\n  return new Intl.DateTimeFormat(locale, { weekday: \"short\" }).format(date);\n};\n\nexport const getLongDay = date => {\n  return new Intl.DateTimeFormat(locale, { weekday: \"short\" }).format(date);\n};","import {getShortDay, getLongMonth} from './helpers/date';\n\nexport const setDefaultState = () => {\n  window.history.pushState({ page: \"calendar\" }, \"Calendar\", \"/\");\n};\n\nexport const setupDates = () => {\n  const date = new Date();\n\n  const month = getLongMonth(date);\n  const shortDay = getShortDay(date);\n\n  $(\"#month\").innerHTML = month;\n  $(\"#today-short\").innerHTML = shortDay;\n  $(\"#today-number\").innerHTML = date.getDate();\n};","//for testing\nconst date = new Date();\nlet today = date.getDate() + \"-\" + date.getMonth() + \"-\" + date.getFullYear();\n\nexport const events = {\n  [today]: [\n    {\n      from_hour: 8,\n      from_minute: 20,\n      to_hour: 9,\n      to_minute: 20,\n      title: \"Book flight\"\n    },\n    {\n      from_hour: 14,\n      from_minute: 0,\n      to_hour: 15,\n      to_minute: 0,\n      title: \"Prepare dinner\"\n    },\n    {\n      from_hour: 20,\n      from_minute: 0,\n      to_hour: 21,\n      to_minute: 0,\n      title: \"Pack\"\n    }\n  ]\n};","export const showEventDetails = e => {\n  const event = e.currentTarget;\n  if (document.body.classList.contains(\"closing-event\")) {\n    return false;\n  }\n\n  const first = event.getBoundingClientRect();\n\n  const translateY = first.top;\n  const scaleX = first.width / window.innerWidth;\n  const scaleY = first.height / 150;\n\n  // Invert.\n  details.style.transform = `scaleX(${scaleX}) scaleY(${scaleY}) translateX(33px) translateY(${translateY}px)`;\n  details.style.transformOrigin = `center ${translateY}px`;\n\n  const info = JSON.parse(event.dataset.event);\n\n  //set event details\n  details.querySelector(\"#details-name\").innerHTML = info.title;\n  const from_minute = info.from_minute.toLocaleString(undefined, {\n    minimumIntegerDigits: 2\n  });\n  const to_minute = info.to_minute.toLocaleString(undefined, {\n    minimumIntegerDigits: 2\n  });\n  details.querySelector(\"#details-hour\").innerHTML = `Today<br>${\n    info.from_hour\n  }:${from_minute} - ${info.to_hour}:${to_minute}`;\n\n  window.history.pushState({ page: \"details\" }, info.title, \"details\");\n\n  setTimeout(() => {\n    requestAnimationFrame(() => {\n      document.body.classList.add(\"show-details\");\n    });\n  }, 40);\n};","import {events} from './testing-events';\nimport {showEventDetails} from './show-details';\n\n//move this to worker thread\nexport const showTodaysEvents = () => {\n  const date = new Date();\n  const today =\n    date.getDate() + \"-\" + date.getMonth() + \"-\" + date.getFullYear();\n\n  const todaysEvents = events[today];\n  if (!todaysEvents) {\n    return false;\n  }\n  const container = $(\"#events\");\n  for (const event of todaysEvents) {\n    const from = event.from_hour;\n    const to = event.to_hour;\n\n    const position = from + event.from_minute / 60;\n\n    const height = to - from + (event.to_minute - event.from_minute) / 60;\n\n    const entry = document.createElement(\"div\");\n    entry.classList.add(\"event\");\n    entry.style.height = `calc(${height} * var(--calendar-hour))`;\n    entry.style.transform = `translateY(calc(${position} * var(--calendar-hour))`;\n\n    entry.innerHTML = event.title + '<div class=\"rippleJS\"></div>';\n    entry.onclick = showEventDetails;\n    entry.dataset.event = JSON.stringify(event);\n    container.appendChild(entry);\n  }\n};","export const showNowBar = () => {\n  const date = new Date();\n  const hour = date.getHours();\n  const minute = date.getMinutes();\n\n  const position = hour + minute / 60;\n\n  const nowBar = $(\"#now-bar\");\n  nowBar.style.setProperty('--bar-position', position);\n};\n","$(\"#details-close\").addEventListener(\"click\", () => {\n  window.history.replaceState({ page: \"calendar\" }, \"Calendar\", \"/\");\n\n  const body = document.body;\n  body.classList.add(\"closing-details\");\n  body.classList.remove(\"show-details\");\n  body.addEventListener(\"transitionend\", event => {\n    if (event.srcElement.getAttribute(\"id\") === \"details\") {\n      body.classList.remove(\"closing-details\");\n    }\n  });\n});\n","const highlightEvent = event => {\n  resetHighlights();\n  event.currentTarget.classList.add(\"highlighted\");\n};\n\nconst resetHighlights = () => {\n  const highlighted = $(\".calendar .highlighted\");\n  if (highlighted) {\n    highlighted.classList.remove(\"highlighted\");\n  }\n};\n\n$$(\".hour\").forEach(hour => {\n  hour.addEventListener(\"click\", highlightEvent);\n});\n","window.addEventListener(\"popstate\", event => {\n  if (event.state && event.state.page === \"calendar\") {\n    $(\"#details-close\").dispatchEvent(new Event(\"click\"));\n  }\n  return true;\n});\n","var bundleURL = null;\nfunction getBundleURLCached() {\n  if (!bundleURL) {\n    bundleURL = getBundleURL();\n  }\n\n  return bundleURL;\n}\n\nfunction getBundleURL() {\n  // Attempt to find the URL of the current script and use that as the base URL\n  try {\n    throw new Error;\n  } catch (err) {\n    var matches = ('' + err.stack).match(/(https?|file|ftp):\\/\\/[^)\\n]+/g);\n    if (matches) {\n      return getBaseURL(matches[0]);\n    }\n  }\n\n  return '/';\n}\n\nfunction getBaseURL(url) {\n  return ('' + url).replace(/^((?:https?|file|ftp):\\/\\/.+)\\/[^/]+$/, '$1') + '/';\n}\n\nexports.getBundleURL = getBundleURLCached;\nexports.getBaseURL = getBaseURL;\n","var getBundleURL = require('./bundle-url').getBundleURL;\n\nfunction loadBundlesLazy(bundles) {\n  if (!Array.isArray(bundles)) {\n    bundles = [bundles]\n  }\n\n  var id = bundles[bundles.length - 1];\n\n  try {\n    return Promise.resolve(require(id));\n  } catch (err) {\n    if (err.code === 'MODULE_NOT_FOUND') {\n      return new LazyPromise(function (resolve, reject) {\n        loadBundles(bundles)\n          .then(resolve, reject);\n      });\n    }\n\n    throw err;\n  }\n}\n\nfunction loadBundles(bundles) {\n  var id = bundles[bundles.length - 1];\n\n  return Promise.all(bundles.slice(0, -1).map(loadBundle))\n    .then(function () {\n      return require(id);\n    });\n}\n\nvar bundleLoaders = {};\nfunction registerBundleLoader(type, loader) {\n  bundleLoaders[type] = loader;\n}\n\nmodule.exports = exports = loadBundlesLazy;\nexports.load = loadBundles;\nexports.register = registerBundleLoader;\n\nvar bundles = {};\nfunction loadBundle(bundle) {\n  var id;\n  if (Array.isArray(bundle)) {\n    id = bundle[1];\n    bundle = bundle[0];\n  }\n\n  if (bundles[bundle]) {\n    return bundles[bundle];\n  }\n\n  var type = (bundle.substring(bundle.lastIndexOf('.') + 1, bundle.length) || bundle).toLowerCase();\n  var bundleLoader = bundleLoaders[type];\n  if (bundleLoader) {\n    return bundles[bundle] = bundleLoader(getBundleURL() + bundle)\n      .then(function (resolved) {\n        if (resolved) {\n          module.bundle.modules[id] = [function (require, module) {\n            module.exports = resolved;\n          }, {}];\n        }\n\n        return resolved;\n      });\n  }\n}\n\nfunction LazyPromise(executor) {\n  this.executor = executor;\n  this.promise = null;\n}\n\nLazyPromise.prototype.then = function (onSuccess, onError) {\n  if (this.promise === null) this.promise = new Promise(this.executor)\n  return this.promise.then(onSuccess, onError)\n};\n\nLazyPromise.prototype.catch = function (onError) {\n  if (this.promise === null) this.promise = new Promise(this.executor)\n  return this.promise.catch(onError)\n};\n","let calendarHour = getComputedStyle(document.body).getPropertyValue(\n  \"--calendar-hour\"\n);\ncalendarHour = parseInt(calendarHour);\n\nwindow.addEventListener(\"load\", () => {\n  requestIdleCallback(() => {\n    import(\"./../node_modules/hammerjs/hammer.min.js\").then(() => {\n      const calendar = $(\".calendar\");\n\n      Hammer.defaults.touchAction = \"pan-y\";\n      var hm = new Hammer.Manager(calendar);\n\n      const pinch = new Hammer.Pinch();\n\n      hm.add([pinch]);\n\n      hm.on(\"pinch\", function(ev) {\n        if (ev.scale > 1) {\n          calendarHour += Math.round(ev.scale / 2);\n          document.documentElement.style.setProperty(\n            \"--calendar-hour\",\n            `${calendarHour}px`\n          );\n        } else if (ev.scale < 1) {\n          calendarHour -= Math.round(ev.scale);\n          document.documentElement.style.setProperty(\n            \"--calendar-hour\",\n            `${calendarHour}px`\n          );\n        }\n      });\n    });\n  });\n});\n","window.addEventListener(\"load\",function(){function n(a){var b=document.createElement(\"style\");b.type=\"text/css\";b.styleSheet?b.styleSheet.cssText=a:b.appendChild(document.createTextNode(a));document.head.insertBefore(b,document.head.firstChild)}function g(a,b){var e=b.target,g=e.classList;if(!g.contains(\"rippleJS\"))return!1;var f=e.getAttribute(\"data-event\");if(f&&f!=a)return!1;e.setAttribute(\"data-event\",a);var c=e.getBoundingClientRect(),f=b.offsetX,h;void 0!==f?h=b.offsetY:(f=b.clientX-c.left,\nh=b.clientY-c.top);var d=document.createElement(\"div\"),c=c.width==c.height?1.412*c.width:Math.sqrt(c.width*c.width+c.height*c.height),k=2*c+\"px\";d.style.width=k;d.style.height=k;d.style.marginLeft=-c+f+\"px\";d.style.marginTop=-c+h+\"px\";d.className=\"ripple\";e.appendChild(d);window.setTimeout(function(){d.classList.add(\"held\")},0);var l=\"mousedown\"==a?\"mouseup\":\"touchend\",m=function(a){document.removeEventListener(l,m);d.classList.add(\"done\");window.setTimeout(function(){e.removeChild(d);e.children.length||\n(g.remove(\"active\"),e.removeAttribute(\"data-event\"))},650)};document.addEventListener(l,m)}(function(){var a=document.createElement(\"div\");a.className=\"rippleJS\";document.body.appendChild(a);var b=\"absolute\"==window.getComputedStyle(a).position;document.body.removeChild(a);return b})()||n('/*rippleJS*/.rippleJS,.rippleJS.fill::after{position:absolute;top:0;left:0;right:0;bottom:0}.rippleJS{display:block;overflow:hidden;border-radius:inherit;-webkit-mask-image:-webkit-radial-gradient(circle,#fff,#000)}.rippleJS.fill::after{content:\"\"}.rippleJS.fill{border-radius:1000000px}.rippleJS .ripple{position:absolute;border-radius:100%;background:currentColor;opacity:.2;width:0;height:0;-webkit-transition:-webkit-transform .4s ease-out,opacity .4s ease-out;transition:transform .4s ease-out,opacity .4s ease-out;-webkit-transform:scale(0);transform:scale(0);pointer-events:none;-webkit-touch-callout:none;-webkit-user-select:none;-khtml-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.rippleJS .ripple.held{opacity:.4;-webkit-transform:scale(1);transform:scale(1)}.rippleJS .ripple.done{opacity:0}');\ndocument.addEventListener(\"mousedown\",function(a){0==a.button&&g(a.type,a)});document.addEventListener(\"touchstart\",function(a){for(var b=0;b<a.changedTouches.length;++b)g(a.type,a.changedTouches[b])})});\n","if (\"serviceWorker\" in navigator) {\n  window.addEventListener(\"load\", () => {\n    const path = \"/sw.js\";\n    navigator.serviceWorker\n      .register(path)\n      .then(registration => console.log(registration))\n      .catch(err => console.error(err));\n  });\n}\n","import \"./helpers/dom\";\n\nimport { setDefaultState, setupDates } from \"./setup\";\nimport { showTodaysEvents } from \"./fill-events\";\nimport { showNowBar } from \"./now-bar\";\nimport \"./details\";\nimport \"./highlight\";\nimport \"./navigation\";\nimport \"./calendars\";\nimport \"./zoom\";\nimport \"./../node_modules/vanilla-ripplejs/ripple.min\";\nimport \"./register-sw\";\n\nsetDefaultState();\n\nsetupDates();\n\nshowTodaysEvents();\n\nshowNowBar();\n"]}