{"version":3,"sources":["js/index.js"],"names":["date","Date","month","Intl","DateTimeFormat","format","shortDay","weekday","document","getElementById","innerHTML","getDate","today","getMonth","getFullYear","events","from_hour","from_minute","to_hour","to_minute","title","highlightEvent","resetHighlights","event","currentTarget","classList","add","highlighted","querySelector","remove","querySelectorAll","forEach","hour","addEventListener","showTodaysEvents","hour_height","todaysEvents","container","from","to","position","fraction","Math","round","entry","createElement","style","transform","appendChild"],"mappings":"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","file":"9c19a0cdd5de20cdee8bf494ab103d7c.map","sourcesContent":["const date = new Date();\n\nconst month = new Intl.DateTimeFormat(\"en-US\", { month: \"long\" }).format(date);\n\nconst shortDay = new Intl.DateTimeFormat(\"en-US\", { weekday: \"short\" }).format(\n  date\n);\n\ndocument.getElementById(\"month\").innerHTML = month;\ndocument.getElementById(\"today-short\").innerHTML = shortDay;\ndocument.getElementById(\"today-number\").innerHTML = date.getDate();\n\n//for testing\nlet today = date.getDate() + \"-\" + date.getMonth() + \"-\" + date.getFullYear();\n\nconst events = {\n  [today]: [\n    {\n      from_hour: 4,\n      from_minute: 0,\n      to_hour: 5,\n      to_minute: 0,\n      title: 'Brunch',\n    }\n  ]\n};\n\nconst highlightEvent = event => {\n  resetHighlights();\n  event.currentTarget.classList.add(\"highlighted\");\n};\n\nconst resetHighlights = () => {\n  const highlighted = document.querySelector(\"#calendar .highlighted\");\n  if (highlighted) {\n    highlighted.classList.remove(\"highlighted\");\n  }\n};\n\ndocument.querySelectorAll(\".hour\").forEach(hour => {\n  hour.addEventListener(\"click\", highlightEvent);\n});\n\n//move this to worker thread\nconst showTodaysEvents = events => {\n  const hour_height = 50;\n  const date = new Date();\n  const today =\n    date.getDate() + \"-\" + date.getMonth() + \"-\" + date.getFullYear();\n\n  const todaysEvents = events[today];\n  if (!todaysEvents) {\n    return false;\n  }\n  const container = document.querySelector('#events');\n  for (const event of todaysEvents) {\n    const from = event.from_hour\n    const to = event.to_hour;\n\n    let position = from * hour_height;\n    const fraction = Math.round(event.from_minute / 60 * hour_height);\n    position += fraction;\n\n    const entry = document.createElement('div');\n    entry.classList.add('event');\n    entry.style.transform = `translateY(${position}px)`;\n    entry.innerHTML = event.title;\n    container.appendChild(entry);\n  }\n};\n\nshowTodaysEvents(events);\n"]}