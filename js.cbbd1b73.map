{"version":3,"sources":["js/helpers/dom.js","js/helpers/date.js","js/setup.js","js/testing-events.js","js/show-details.js","js/fill-events.js","js/now-bar.js","js/details.js","js/highlight.js","js/navigation.js","../../.config/yarn/global/node_modules/parcel-bundler/src/builtins/bundle-url.js","../../.config/yarn/global/node_modules/parcel-bundler/src/builtins/bundle-loader.js","js/zoom.js","node_modules/vanilla-ripplejs/ripple.min.js","js/register-sw.js","js/index.js"],"names":["window","$","document","querySelector","bind","$$","querySelectorAll","locale","getLongMonth","Intl","DateTimeFormat","month","format","date","getShortMonth","getShortDay","weekday","getLongDay","setDefaultState","history","pushState","page","setupDates","Date","shortDay","innerHTML","getDate","today","getMonth","getFullYear","events","from_hour","from_minute","to_hour","to_minute","title","showEventDetails","event","e","currentTarget","body","classList","contains","first","getBoundingClientRect","translateY","top","scaleX","width","innerWidth","scaleY","height","details","style","transform","transformOrigin","info","JSON","parse","dataset","toLocaleString","undefined","minimumIntegerDigits","setTimeout","requestAnimationFrame","add","showTodaysEvents","todaysEvents","container","from","to","position","entry","createElement","onclick","stringify","appendChild","showNowBar","hour","getHours","minute","getMinutes","nowBar","setProperty","addEventListener","replaceState","remove","srcElement","getAttribute","highlightEvent","resetHighlights","highlighted","forEach","state","dispatchEvent","Event","bundleURL","getBundleURLCached","getBundleURL","Error","err","matches","stack","match","getBaseURL","url","replace","exports","require","loadBundlesLazy","bundles","Array","isArray","id","length","Promise","resolve","code","LazyPromise","reject","loadBundles","then","all","slice","map","loadBundle","bundleLoaders","registerBundleLoader","type","loader","module","load","register","bundle","substring","lastIndexOf","toLowerCase","bundleLoader","resolved","modules","executor","promise","prototype","onSuccess","onError","catch","calendarHour","getComputedStyle","getPropertyValue","parseInt","requestIdleCallback","calendar","Hammer","defaults","touchAction","hm","Manager","pinch","Pinch","on","ev","scale","Math","round","documentElement","navigator","path","serviceWorker","console","log","registration","error"],"mappings":";AAAAA,OAAOC,CAAP,GAAWC,SAASC,aAAT,CAAuBC,IAAvB,CAA4BF,QAA5B,CAAX;AACAF,OAAOK,EAAP,GAAYH,SAASI,gBAAT,CAA0BF,IAA1B,CAA+BF,QAA/B,CAAZ;;;;;;ACDA,IAAMK,SAAS,OAAf;;AAEO,IAAMC,sCAAe,SAAfA,YAAe,OAAQ;AAClC,SAAO,IAAIC,KAAKC,cAAT,CAAwBH,MAAxB,EAAgC,EAAEI,OAAO,MAAT,EAAhC,EAAmDC,MAAnD,CAA0DC,IAA1D,CAAP;AACD,ACJD,CDEO;AAGA,IAAMC,wCAAgB,SAAhBA,aAAgB,OAAQ;AACnC,ACJK,AEFA,IFEMI,AEFAkB,KHMJ,IAAI3B,KAAKC,cAAT,CAAwBH,MAAxB,EAAgC,EAAEI,KCJZ,EDImB,AGNlB,OHMS,ACJ5BO,EDIJ,AGNIkB,EHMgDxB,MAApD,CAA2DC,IAA3D,ACJsB,CDI7B,ECJmC,AEFL,IAAK;AGArCZ,ANOC,ACJCD,AEFA,ADDF,CFKO,CMLL,IHCMqC,GFEClB,KEFOmB,EFEd,AEFgBC,CFEDnB,CKHjB,EAAoBgE,MLGlB,CAAyB,EAAE/D,AEF3B,MFEiC,CKHnC,CAAqC,OAArC,CLG2B,CKHmB,CLG5C,EAA+C,SKHG,CLGlD,EAA2D,GAA3D;AKFArB,ALGD,AEFC,ADDF,CDCO,GCDDa,ECCAX,GGDGiB,EJAI,ICCEqB,ADDEjB,CIAf,CAAe8D,EHCX,ADDO,CCCO5C,CDDpB,QIAE,AHCI,CGDwB,AHCAC,EGDErB,MAAM,AHChC,CAAiC,SGDT,EAA5B,EAAkD,EHC9C,CAAJ,EAAuD,KGDvD,EAA8D,GAA9D;ANQK,AOTP,AJGI,ADDJ,IFOaN,AOTP0E,ALEF9D,OCCO,CDDCd,ICCR,CDDaa,IKFM,GLEX,KAAiB,CKFvB+D,ELEM,GAAuB5E,KFOR,AEPae,IKFjB,ILEY,CFOtBb,CEPD,EKFoB,CLEqB,GAAzC,GAA+CF,CFOhC,IEPqCgB,GFO7B,QEPwB,EAA3D;AICE,AFHF,AJUE,AOTA6D,AFDK,AJMA,AEFJ,IEJUb,AJMAvD,EKHLkB,GNOC,IMPMtC,ANOFO,KAAKC,IMPM8B,IAAtB,MNOO,CAAwBjC,KKVP,AJMA,CDIjB,EAAgC,EAAES,IKV9B6D,AJMAvD,KDIuC,KKV1B,AJMA,EDIe,CKVT,AJMA,CDIvB,EAAsDV,MAAtD,CAA6DC,IAA7D,CAAP;AMNA2B,ANOD,AOTCH,ACFFrC,AHCE,AJMA,ACHK,CFKA,GELM8B,EGHLjB,AJMAA,CKHD4B,AEJA2C,CDEC7C,KFDO,AJMA,GKHb,CAAe0B,ADHE1C,AJMAA,GKHjB,CAAmB,ACFnB,AFDa,AJMA,CMLOkB,CCFtB,AHCE,AJMA,COPsB,ODEtB,CAA8BwB,ECFhC,CDEE,CAAkC,ACFA,EFIlC,WCFA,CLGCtC,GML0C,ENIhC,EACF,CACP;AIDFa,AFJF,AGEC,ACFC,AHCA,AFIA,ADCIT,CKPN,KCCMM,AHCEyC,AFIAnC,CGDDF,KEJKoD,CHCGhF,AHKE,CCDDwB,ADAZ,EIDF,CAAeiD,AEJX,CHCcP,EFIEnC,CKLDP,EFInB,CAAsB,EDHT,CGDYwD,CHCzB,IGDmB,CAAYxE,IAAZ,CFInB,GHCc,CKL0B,CLKxC,SKLA,EAAoD;AFKpDmB,ANOK,AQXHvC,AHCF,AJMA,ACDI+B,IFKOf,EQXP,AHCE+D,AJMArE,CKHDyE,OLGS,CINCvE,AHKE,EAFf,GGHkBoE,EGDlB,CFIF,CAAsB,AEJAa,MHCP,EAAf,KGDE,CRWsB,AQXY,APOTjF,CKH3B,EAAuC,CEJCkF,APO1B,CAAd,IDIW9E,AQXyB,CAAU,OAAV,CAAlC,CRWsB,CMPwB,MNOhB;AMN9B,AFJJ,AJWE,AOTF,ACFG,APOD,AEFA,ADCIgB,IKJAyD,ENKElE,AEFAqB,EGDAR,CNOC,EELM,CAHX,CFQS5B,CMPC8E,GLGK,CDID7E,CGNGiC,GIHG,EDEhB,CAAiB6C,AHCE1C,GAAzB,GIHI4C,CPSG,CAAwBnF,IMPzB,CAA8B,CNO7B,CCJsBM,CDIU,CMPjC,CNOmCG,CCJxB,CAAjB,CMLsB,EDEwB,CCFlB,GPSsB,KMPhD,EAAuD,ANOlB,EAAhC,EAAsDJ,MAAtD,CAA6DC,IAA7D,CAAP;ASdF,AHQM2B,AFJC,AJWN,AOTC,ACFA,AHCA,AFIA,ADCIN,CFGC,GSbH8D,ALIS9B,EGELyB,AFDApB,AFIAxB,GKLC,EFIEN,EEJT,ANMe,ECDAE,ADHb,CONY,CJKGmC,GILnB,AHQM,ACFgB7E,CDEDqF,AHCEtC,CIHC,EFDEgC,EFIT,CGDX,CAAsB,CHCGhF,IEJI,EAAjC,CFIoCiD,SGDhC,CCFgB,AJGpB,CIHA,GHF8B,SAAnBiB,gBAAmB,GAAM;AKHtC,AHQK,AFJH,AGEA,ACFD,APOCjE,AEFA,ADCIkC,CMXN,GPYI,EGPItB,AGEF8E,AJGEzC,GMTC+C,APUI,GDCX,CGPa,CHODxE,CEFGkB,ECLEpB,AGEjB,EAAiB,EHFJ,ADKQ4B,ECLrB,AHOA,GAAwBxC,CQX1B,ANSiB,GMTa,ANSE,CFE9B,EEFA;AOVF,ADEE,AHQC,AFJD,AGEEgF,AFDF,AJMA1F,ACPE,CADO,EICT,AJOE,CQbAiG,ATaA,EQXE,ALIEvE,ACCAuD,CILDc,OLKHnF,CCAaZ,CILf,AFMcwC,CFDG,CILD,ARWhB,CSbiBmE,ANOVlF,CHMWD,KMLhB,CHDA,AGCsB6D,CGRC,ALOV,CAAf,CJMA,EGNmB,CGCjB,ANK4B9D,CMLC,CHD7B,GAAuBX,GHMzB,CSbiB,CNOae,CMPWsE,GHQvC,IHDuB,EAAvB,GMPJ,ANO6C,GAAzC,GAA+CrF,KAAKgB,WAAL,EADjD;AKHEmE,AHQH,ACFE,AFDDd,AJMAjF,AEFA,ADEI8B,CIdN,GLcI,KINKsB,IHMQ,CGNf,CAAa8B,AHKX,COVYe,GRWd,EAAmBzE,KINnB,CAAyB,GILvB,ARWF,GAA+BZ,KAAKa,KINpC,EAA2C6C,AJMZ,EAA/B,MINA;AKNF,ADEG,ALKD,AGCD,AFDA,AJMA,AEFCnB,ADEIpB,ASfN,CJKA,AFLO,AJMA,GUNHkH,EPSI/E,GMPC0C,CPWCxD,KAAR,ADEiB,CCFHC,ADAZ,GSbe6F,EPSI,GMPvB,CAAyBrC,APWvB,OOXF,EAAkC,ECFE5G,IRaE6C,GCJRpB,EOTea,CRa3C,ECJqB,CAArB,AOTiB,EAAgC4G,YRaKlG,IQbrC,CACjB,CRYA,gBQbiB,CAAnB,qBRa+FL,UAA7F;AOVA,ANOA,ADIAO,ADEInB,ASbNiH,MDAM,ANOA,CMPCnC,ANOA5C,GDIGd,CDEK,EQbF2D,ARUT,ECCF,AQXaqC,CRWC9F,GCJd,CMPK,CAAcuD,ANOA,GOPGoC,IDAjB,CAAL,EAA6B,APW7B,KQXa,CAAf,SRW4CrG,UAA1C;AOVEiE,ADEF,ALKE,AGCJzG,ALKM6B,AUjBN,GLYG,MENM8D,CFMT,CHDW,CGCCJ,CLKK,CQbH,ARSV,CQTWkB,CNOX,EKLF,CFMF,CAAoB,EGRN,CAAV,aHQwB;AGPzB,ADEF,ALKE,AGCDhC,AJGA,ADEI3C,ASbNnC,ACJA,MTeQwD,CIHD4B,AIRAA,ETaM,ICFE3B,KAAKC,KIHlB,AJGa,AQXf,CJQwB,AJGErB,AQXF,MRWQsB,AQXhC,CJQE,CIR8B,CJQC8B,IJGP,CAAcpD,KAAzB,CAAb,AQXoC,GJQpC;AHAA,AGCD,ALDG,ASPFiH,ACJF,CLUA,ALPW,EAeP,GEPIlF,YAAYnE,EAAE,EOPA,OPOF,CAAlB,IOP0B;ADC1B,ADEF,ALLsC,ADcpC,ADGI8B,ASdF,ACJJ,MFIMkF,GDEGf,ECFEY,ERcM,EADb,IQbeA,EDEnB,GAAwB,GCFGI,MAAR,GAAiB,CAAzB,CAAT,QCAS,0CAAP,GAAmDO,IAAnD,CAAwD,YAAM;AFGhE,ALNoC,ADepCrE,ADGIpB,ASdA,ACJN,UTeU7B,AQXEoJ,KTcO,CAFf,KSZmBtJ,ERWrB,AQXuB,CRWD,UQXD,CAAjB,IRWJ,EAAuCwB,SAAvC,GAAmD+B,KAAKrB,KAAxD;AOVA,ADEA,ALPoC,ADgBpC,ADGIF,MQdA,ADEA,ANSED,KDGO,EAHX,OCAkBwB,KAAKxB,WAAL,CAAiB4B,cAAjB,CAAgCC,SAAhC,EAA2C;AOV7D,ADEA,AIZJ,AVqBIC,ADGE5B,ASdAsH,IEVF,MJYM,CCFCrC,ERcM,ASdJsC,CFECtD,APQV,KQVeiB,ADET,EAAN,AEFE,CAAgBsC,CEVCW,GHUZ,APWe,COXCzD,KGV3B,CFUM,CEV4B,CHUCK,CCAC,CDAT,CAAhB,CAAP,ICAE;ADCH,ADEA,ALTmC,ASHpCjH,AVmB+D,ADK3DmC,ASdA,GDFJ,ADEA,ANSoB,COTlB,ADEA,ANOF,KUnBOiD,AXwBI,CSdHuE,CDACvD,ADEAA,GCFP,ADEA,CEFW,CDAC,ADEA,GEFGoD,MEVjB,CAAwB,AFUAI,MEVxB,CFUa,CEVmB,AFUAL,QAAnB,CAAT,GEVkC;AHWpC,ADEA,ALAF,ASZE,AVqBF,ADHE,CAfO,CADE,CAAN,GCmBCrH,EOXAkE,ADEAC,AIZEiE,IHUEjD,GGVK,CHUT,EDEU,ANSE7D,CMTD,ECFE,EGVjB,AVqBqBtB,CMTDkE,CLAFjC,GKAMmC,INSR,CMTF,ANSiB1C,EMTA2C,ELAjC,EMFE,CDEc,CCFuB,ADEA,MNSrB,CAA8B1C,SAA9B,EAAyC,cMT3C,CAAd,yFLAgC;AMD9B,ADEF,ALDgC,ASXhCwG,AVqBAvG,AQXE,QFEEuC,ELDKhE,AODDwH,GDAC,CGVCU,CJYV,ALDgC,EMDnBjD,ADEA,CEFG,IAAIkC,IRWE,CUrBtB,CHUS,AGTNpB,CHSsB,ACAE0B,KAAX,EEVhB,AFUE,CETUQ,EHSuBlD,EGVnC,EAEGK,GHQsB,CGVzB,CHU4CF,AGRpC,MHQiB,EAA2B;AAChDC,ADEF,AKhBN,ADKY,AVkBiD,GAAzC,CAAlB,SMPWhB,AIXegE,OHSR1D,CGTgB2D,GJWZpE,AIXI,CAAYqE,EHShC,EACGjD,GDCqB,CCFxB,ADEgB,CCDRL,ADCH,CAAP,EIXsB,CAAhB,GHSJ,EACiBG,MADjB;AAED,ADCF,ALFD,ASVQ,AVqBVnE,AQXIuG,KEZF,EHUS,AGPNV,CHOD,CCEGhF,CPACI,ADWAlE,EUvBN,AFYE,CETO,AFSA,CAAC0J,GPAGxH,EOAJ,CAAP,GPAiBN,ADWrB,CAAsB,QCXpB,ODWF,EAAuCN,SAAvC,iBACE+B,KAAKzB,SADP,SAEIC,WAFJ,WAEqBwB,KAAKvB,OAF1B,SAEqCC,SAFrC;AOTG,ADCF,ALFC,AUdJ,ADIa,UTUHoC,GSVUkG,ETULnI,MAAMJ,ASVO0I,KAAR,CAAcvE,CTU9B,ESVgB,CAAP;AAAA,AVwBXpG,AQbI2J,KEdF,IV2BKxI,AQbA4I,EAAH,CAAM,IRaV,CAAe3I,EQbX,EAAe,KRanB,CAAyB,EAAEC,EQbC2I,EAAT,ERac,AQbD,SRaP,EAAzB,EAA8CxG,KAAKrB,KAAnD,EAA0D,SAA1D;AOXE,ADCF,ALFE,AUfJ,ADIG,AFWK,GEjBN,MJmBO,CCDCiE,ANDA7B,EKER,AEFUyF,CDCR,ECDWC,KAAH,CPAS5F,EOAE,CAAf,EAAkB,EPAEhC,MAAML,WAAN,GAAoB,EAA5C;AMED,ADCF,AIbA,AVwBC+B,AQbQmF,aRaG,YAAM,CQbOgB,KAAKC,KAAL,CAAWH,GAAGC,KAAH,GAAW,CAAtB,CAAhB;ADET,ANDG,AUhBJ,AX6BIjG,AQbM9D,UPAAiD,SAASmB,AOAA8F,KPAK/F,EDaE,ECbP,GAAY,CAAChC,EOAtB,CAAyBgB,GPAGnB,ADaN,EQbtB,CAA+BiD,MPAT,GAAkB9C,EOAxC,CACE,GPD4CL,WAAzB,GOArB,CPA6D,COExDkH,CPFX,WOAM;AFGV,ANWMhJ,AQVG,SFDAsG,AELD,MRgBOhE,AQVA,IFDf,ANWM,AQVawH,CFDCvD,ANWAhE,EQVEwH,CFDtB,EAAyB,EECN,ERUb,CAAwBhG,AQVA,CAAf,ERUT,AQV2B,CRUC,cAA5B;AOXN,ADCE,ALFE,AUjBJ,AX8BK,AQVKiF,KRQN,IOVK1B,ADCA,CAAC,ALFAhD,KKEKiC,GAAN,ALFSvG,EMClB,ADCoBwG,CCDCI,KCEKoD,CFDjB,ALFkBzF,CMC3B,ADC4B,ECDE,CCEC0F,KAAL,CAAWH,GPHnB,AOGsBC,CPHC,IOGf,CPHR,AOGR,CPHN,oBKEK,EAA4D,IAA5D,IAAoE,GAA3E;ACAA,ADCD,ALFGzF,ADaD,AQVOtE,GRMR,EAIG,COZC+G,CPQJ,IORSH,CNDDrE,OMCSqE,ACEAsD,EPHf,CAAgBnG,GAAhB,CAAoB,CMCGiD,MAAR,ANDf,COGM,CAAyB7D,CDFC,CAAzB,CAAT,ECEQ,CAA+B8B,WAA/B,CACE,iBADF,EAEK+D,YAFL;APFN1E,AUlBJ,AX+BC,AQPQ,CR9BF,WCwBGnB,KAAN,CAAYF,MAAZ,aAA6BA,MAA7B;AMEF,ADCFwD,ALFInC,AOMG,OAdD,CFUE0B,CCDCiB,GNDC9D,KMCOqE,ANDb,CAAYpE,EMCP,ADCT,CCDqBwD,EDCEb,ILFnB,EMCyB0B,KAAR,CAAc,CAAd,EAAiB,CAAC,CAAlB,CDCrB,CCD0CC,GAArB,CAAyBC,KNDCtD,KMC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","file":"js.cbbd1b73.map","sourcesContent":["window.$ = document.querySelector.bind(document);\nwindow.$$ = document.querySelectorAll.bind(document);\n","const locale = \"en-US\";\n\nexport const getLongMonth = date => {\n  return new Intl.DateTimeFormat(locale, { month: \"long\" }).format(date);\n};\nexport const getShortMonth = date => {\n  return new Intl.DateTimeFormat(locale, { month: \"short\" }).format(date);\n};\n\nexport const getShortDay = date => {\n  return new Intl.DateTimeFormat(locale, { weekday: \"short\" }).format(date);\n};\n\nexport const getLongDay = date => {\n  return new Intl.DateTimeFormat(locale, { weekday: \"short\" }).format(date);\n};","import {getShortDay, getLongMonth} from './helpers/date';\n\nexport const setDefaultState = () => {\n  window.history.pushState({ page: \"calendar\" }, \"Calendar\", \"/\");\n};\n\nexport const setupDates = () => {\n  const date = new Date();\n\n  const month = getLongMonth(date);\n  const shortDay = getShortDay(date);\n\n  $(\"#month\").innerHTML = month;\n  $(\"#today-short\").innerHTML = shortDay;\n  $(\"#today-number\").innerHTML = date.getDate();\n};","//for testing\nconst date = new Date();\nlet today = date.getDate() + \"-\" + date.getMonth() + \"-\" + date.getFullYear();\n\nexport const events = {\n  [today]: [\n    {\n      from_hour: 8,\n      from_minute: 20,\n      to_hour: 9,\n      to_minute: 20,\n      title: \"Book flight\"\n    },\n    {\n      from_hour: 14,\n      from_minute: 0,\n      to_hour: 15,\n      to_minute: 0,\n      title: \"Prepare dinner\"\n    },\n    {\n      from_hour: 20,\n      from_minute: 0,\n      to_hour: 21,\n      to_minute: 0,\n      title: \"Pack\"\n    }\n  ]\n};","export const showEventDetails = e => {\n  const event = e.currentTarget;\n  if (document.body.classList.contains(\"closing-event\")) {\n    return false;\n  }\n\n  const first = event.getBoundingClientRect();\n\n  const translateY = first.top;\n  const scaleX = first.width / window.innerWidth;\n  const scaleY = first.height / 150;\n\n  // Invert.\n  details.style.transform = `scaleX(${scaleX}) scaleY(${scaleY}) translateX(33px) translateY(${translateY}px)`;\n  details.style.transformOrigin = `center ${translateY}px`;\n\n  const info = JSON.parse(event.dataset.event);\n\n  //set event details\n  details.querySelector(\"#details-name\").innerHTML = info.title;\n  const from_minute = info.from_minute.toLocaleString(undefined, {\n    minimumIntegerDigits: 2\n  });\n  const to_minute = info.to_minute.toLocaleString(undefined, {\n    minimumIntegerDigits: 2\n  });\n  details.querySelector(\"#details-hour\").innerHTML = `Today<br>${\n    info.from_hour\n  }:${from_minute} - ${info.to_hour}:${to_minute}`;\n\n  window.history.pushState({ page: \"details\" }, info.title, \"details\");\n\n  setTimeout(() => {\n    requestAnimationFrame(() => {\n      document.body.classList.add(\"show-details\");\n    });\n  }, 40);\n};","import {events} from './testing-events';\nimport {showEventDetails} from './show-details';\n\n//move this to worker thread\nexport const showTodaysEvents = () => {\n  const date = new Date();\n  const today =\n    date.getDate() + \"-\" + date.getMonth() + \"-\" + date.getFullYear();\n\n  const todaysEvents = events[today];\n  if (!todaysEvents) {\n    return false;\n  }\n  const container = $(\"#events\");\n  for (const event of todaysEvents) {\n    const from = event.from_hour;\n    const to = event.to_hour;\n\n    const position = from + event.from_minute / 60;\n\n    const height = to - from + (event.to_minute - event.from_minute) / 60;\n\n    const entry = document.createElement(\"div\");\n    entry.classList.add(\"event\");\n    entry.style.height = `calc(${height} * var(--calendar-hour))`;\n    entry.style.transform = `translateY(calc(${position} * var(--calendar-hour))`;\n\n    entry.innerHTML = event.title + '<div class=\"rippleJS\"></div>';\n    entry.onclick = showEventDetails;\n    entry.dataset.event = JSON.stringify(event);\n    container.appendChild(entry);\n  }\n};","export const showNowBar = () => {\n  const date = new Date();\n  const hour = date.getHours();\n  const minute = date.getMinutes();\n\n  const position = hour + minute / 60;\n\n  const nowBar = $(\"#now-bar\");\n  nowBar.style.setProperty('--bar-position', position);\n};\n","$(\"#details-close\").addEventListener(\"click\", () => {\n  window.history.replaceState({ page: \"calendar\" }, \"Calendar\", \"/\");\n\n  const body = document.body;\n  body.classList.add(\"closing-details\");\n  body.classList.remove(\"show-details\");\n  body.addEventListener(\"transitionend\", event => {\n    if (event.srcElement.getAttribute(\"id\") === \"details\") {\n      body.classList.remove(\"closing-details\");\n    }\n  });\n});\n","const highlightEvent = event => {\n  resetHighlights();\n  event.currentTarget.classList.add(\"highlighted\");\n};\n\nconst resetHighlights = () => {\n  const highlighted = $(\".calendar .highlighted\");\n  if (highlighted) {\n    highlighted.classList.remove(\"highlighted\");\n  }\n};\n\n$$(\".hour\").forEach(hour => {\n  hour.addEventListener(\"click\", highlightEvent);\n});\n","window.addEventListener(\"popstate\", event => {\n  if (event.state && event.state.page === \"calendar\") {\n    $(\"#details-close\").dispatchEvent(new Event(\"click\"));\n  }\n  return true;\n});\n","var bundleURL = null;\nfunction getBundleURLCached() {\n  if (!bundleURL) {\n    bundleURL = getBundleURL();\n  }\n\n  return bundleURL;\n}\n\nfunction getBundleURL() {\n  // Attempt to find the URL of the current script and use that as the base URL\n  try {\n    throw new Error;\n  } catch (err) {\n    var matches = ('' + err.stack).match(/(https?|file|ftp):\\/\\/[^)\\n]+/g);\n    if (matches) {\n      return getBaseURL(matches[0]);\n    }\n  }\n\n  return '/';\n}\n\nfunction getBaseURL(url) {\n  return ('' + url).replace(/^((?:https?|file|ftp):\\/\\/.+)\\/[^/]+$/, '$1') + '/';\n}\n\nexports.getBundleURL = getBundleURLCached;\nexports.getBaseURL = getBaseURL;\n","var getBundleURL = require('./bundle-url').getBundleURL;\n\nfunction loadBundlesLazy(bundles) {\n  if (!Array.isArray(bundles)) {\n    bundles = [bundles]\n  }\n\n  var id = bundles[bundles.length - 1];\n\n  try {\n    return Promise.resolve(require(id));\n  } catch (err) {\n    if (err.code === 'MODULE_NOT_FOUND') {\n      return new LazyPromise(function (resolve, reject) {\n        loadBundles(bundles)\n          .then(resolve, reject);\n      });\n    }\n\n    throw err;\n  }\n}\n\nfunction loadBundles(bundles) {\n  var id = bundles[bundles.length - 1];\n\n  return Promise.all(bundles.slice(0, -1).map(loadBundle))\n    .then(function () {\n      return require(id);\n    });\n}\n\nvar bundleLoaders = {};\nfunction registerBundleLoader(type, loader) {\n  bundleLoaders[type] = loader;\n}\n\nmodule.exports = exports = loadBundlesLazy;\nexports.load = loadBundles;\nexports.register = registerBundleLoader;\n\nvar bundles = {};\nfunction loadBundle(bundle) {\n  var id;\n  if (Array.isArray(bundle)) {\n    id = bundle[1];\n    bundle = bundle[0];\n  }\n\n  if (bundles[bundle]) {\n    return bundles[bundle];\n  }\n\n  var type = (bundle.substring(bundle.lastIndexOf('.') + 1, bundle.length) || bundle).toLowerCase();\n  var bundleLoader = bundleLoaders[type];\n  if (bundleLoader) {\n    return bundles[bundle] = bundleLoader(getBundleURL() + bundle)\n      .then(function (resolved) {\n        if (resolved) {\n          module.bundle.modules[id] = [function (require, module) {\n            module.exports = resolved;\n          }, {}];\n        }\n\n        return resolved;\n      });\n  }\n}\n\nfunction LazyPromise(executor) {\n  this.executor = executor;\n  this.promise = null;\n}\n\nLazyPromise.prototype.then = function (onSuccess, onError) {\n  if (this.promise === null) this.promise = new Promise(this.executor)\n  return this.promise.then(onSuccess, onError)\n};\n\nLazyPromise.prototype.catch = function (onError) {\n  if (this.promise === null) this.promise = new Promise(this.executor)\n  return this.promise.catch(onError)\n};\n","let calendarHour = getComputedStyle(document.body).getPropertyValue(\n  \"--calendar-hour\"\n);\ncalendarHour = parseInt(calendarHour);\n\nwindow.addEventListener(\"load\", () => {\n  requestIdleCallback(() => {\n    import(\"./../node_modules/hammerjs/hammer.min.js\").then(() => {\n      const calendar = $(\".calendar\");\n\n      Hammer.defaults.touchAction = \"pan-y\";\n      var hm = new Hammer.Manager(calendar);\n\n      const pinch = new Hammer.Pinch();\n\n      hm.add([pinch]);\n\n      hm.on(\"pinch\", function(ev) {\n        if (ev.scale > 1) {\n          calendarHour += Math.round(ev.scale / 2);\n          document.documentElement.style.setProperty(\n            \"--calendar-hour\",\n            `${calendarHour}px`\n          );\n        } else if (ev.scale < 1) {\n          calendarHour -= Math.round(ev.scale);\n          document.documentElement.style.setProperty(\n            \"--calendar-hour\",\n            `${calendarHour}px`\n          );\n        }\n      });\n    });\n  });\n});\n","window.addEventListener(\"load\",function(){function n(a){var b=document.createElement(\"style\");b.type=\"text/css\";b.styleSheet?b.styleSheet.cssText=a:b.appendChild(document.createTextNode(a));document.head.insertBefore(b,document.head.firstChild)}function g(a,b){var e=b.target,g=e.classList;if(!g.contains(\"rippleJS\"))return!1;var f=e.getAttribute(\"data-event\");if(f&&f!=a)return!1;e.setAttribute(\"data-event\",a);var c=e.getBoundingClientRect(),f=b.offsetX,h;void 0!==f?h=b.offsetY:(f=b.clientX-c.left,\nh=b.clientY-c.top);var d=document.createElement(\"div\"),c=c.width==c.height?1.412*c.width:Math.sqrt(c.width*c.width+c.height*c.height),k=2*c+\"px\";d.style.width=k;d.style.height=k;d.style.marginLeft=-c+f+\"px\";d.style.marginTop=-c+h+\"px\";d.className=\"ripple\";e.appendChild(d);window.setTimeout(function(){d.classList.add(\"held\")},0);var l=\"mousedown\"==a?\"mouseup\":\"touchend\",m=function(a){document.removeEventListener(l,m);d.classList.add(\"done\");window.setTimeout(function(){e.removeChild(d);e.children.length||\n(g.remove(\"active\"),e.removeAttribute(\"data-event\"))},650)};document.addEventListener(l,m)}(function(){var a=document.createElement(\"div\");a.className=\"rippleJS\";document.body.appendChild(a);var b=\"absolute\"==window.getComputedStyle(a).position;document.body.removeChild(a);return b})()||n('/*rippleJS*/.rippleJS,.rippleJS.fill::after{position:absolute;top:0;left:0;right:0;bottom:0}.rippleJS{display:block;overflow:hidden;border-radius:inherit;-webkit-mask-image:-webkit-radial-gradient(circle,#fff,#000)}.rippleJS.fill::after{content:\"\"}.rippleJS.fill{border-radius:1000000px}.rippleJS .ripple{position:absolute;border-radius:100%;background:currentColor;opacity:.2;width:0;height:0;-webkit-transition:-webkit-transform .4s ease-out,opacity .4s ease-out;transition:transform .4s ease-out,opacity .4s ease-out;-webkit-transform:scale(0);transform:scale(0);pointer-events:none;-webkit-touch-callout:none;-webkit-user-select:none;-khtml-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.rippleJS .ripple.held{opacity:.4;-webkit-transform:scale(1);transform:scale(1)}.rippleJS .ripple.done{opacity:0}');\ndocument.addEventListener(\"mousedown\",function(a){0==a.button&&g(a.type,a)});document.addEventListener(\"touchstart\",function(a){for(var b=0;b<a.changedTouches.length;++b)g(a.type,a.changedTouches[b])})});\n","if (\"serviceWorker\" in navigator) {\n  window.addEventListener(\"load\", () => {\n    const path = \"/sw.js\";\n    navigator.serviceWorker\n      .register(path)\n      .then(registration => console.log(registration))\n      .catch(err => console.error(err));\n  });\n}\n","import \"./helpers/dom\";\n\nimport { setDefaultState, setupDates } from \"./setup\";\nimport { showTodaysEvents } from \"./fill-events\";\nimport { showNowBar } from \"./now-bar\";\nimport \"./details\";\nimport \"./highlight\";\nimport \"./navigation\";\nimport \"./calendars\";\nimport \"./zoom\";\nimport \"./../node_modules/vanilla-ripplejs/ripple.min\";\nimport \"./register-sw\";\n\nsetDefaultState();\n\nsetupDates();\n\nshowTodaysEvents();\n\nshowNowBar();\n"]}